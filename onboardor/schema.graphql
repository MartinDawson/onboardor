# source: http://localhost:49891/graphql
# timestamp: Fri Jul 20 2018 23:28:23 GMT+0200 (W. Europe Daylight Time)

"""
The `Date` scalar type represents a timestamp provided in UTC. `Date` expects
timestamps to be formatted in accordance with the
[ISO-8601](https://en.wikipedia.org/wiki/ISO_8601) standard.
"""
scalar Date

scalar Decimal

type Member implements Node {
  avatarUrl: String!

  """The Global Id of the Member"""
  id: ID!
  isBeingOnboarded: Boolean!

  """The Id of the Member"""
  memberId: Int!
  name: String!
  organization: Organization
}

type Mutation {
  setOnboardingMembers(input: SetOnboardingMembersInput!): SetOnboardingMembersPayload
  subscribeMailingList(input: SubscribeMailingListInput!): SubscribeMailingListPayload
}

interface Node {
  """Global node Id"""
  id: ID
}

type Organization implements Node {
  avatarUrl: String!

  """The Global Id of the Organization"""
  id: ID!
  members: [Member]!
  name: String!

  """The Id of the Organization"""
  organizationId: Int!
}

type Query {
  """Fetches an object given its global Id"""
  node(
    """The global Id of the object"""
    id: ID!
  ): Node
  organizations: [Organization]!

  """Returns the url for the OAUTH request"""
  setup: String!
  setupCallback(
    """The code for the setup"""
    code: String!

    """The CSRF protection state"""
    state: String!
  ): Boolean!
}

input SetOnboardingMembersInput {
  clientMutationId: String = null
  memberIds: [Int]!
}

type SetOnboardingMembersPayload {
  clientMutationId: String
}

input SubscribeMailingListInput {
  clientMutationId: String = null
  email: String!
  recaptcha: String!
}

type SubscribeMailingListPayload {
  clientMutationId: String
}
